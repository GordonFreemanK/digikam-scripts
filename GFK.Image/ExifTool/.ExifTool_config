#------------------------------------------------------------------------------
# File:         .exiftool_config
#
# Description:  Configuration file for Image::ExifTool
#
# Notes:        To activate this file, rename it to ".ExifTool_config" and
#               place it in your home directory or the exiftool application
#               directory.  (On Mac and some Windows systems this must be done
#               via the command line since the GUI's may not allow filenames to
#               begin with a dot.  Use the "rename" command in Windows or "mv"
#               on the Mac.)  This causes ExifTool to automatically load the
#               file when run.  Your home directory is determined by the first
#               defined of the following environment variables:
#
#                   1.  EXIFTOOL_HOME
#                   2.  HOME
#                   3.  HOMEDRIVE + HOMEPATH
#                   4.  (the current directory)
#
#               Alternatively, the -config option of the exiftool application
#               may be used to load a specific configuration file (note that
#               this must be the first option on the command line):
#
#                   exiftool -config example.config ...
#
#               For detailed information on the definition of tag tables and
#               tag information hashes, see lib/Image/ExifTool/README.
#------------------------------------------------------------------------------

# Shortcut tags are used when extracting information to simplify
# commonly used commands.  They can be used to represent groups
# of tags, or to provide an alias for a tag name.
%Image::ExifTool::UserDefined::Shortcuts = (
    Author => [
        'EXIF:Artist',
        'XMP-dc:Creator'],
    Taken => [
        'EXIF:ModifyDate', # used as the sort key by many applications
        'EXIF:OffsetTime', # offset for ModifyDate
        'EXIF:DateTimeOriginal', # date taken proper        
        'EXIF:OffsetTimeOriginal', # offset for DateTimeOriginal
        'XMP-xmp:ModifyDate',
        'XMP-exif:DateTimeOriginal',
        'XMP-photoshop:DateCreated',
        'XMP-tiff:DateTime',
        'File:FileModifyDate'],
    Digitized => [
        'EXIF:CreateDate', # aka DateTimeDigitized in the EXIF spec
        'EXIF:OffsetTimeDigitized', # offset for CreateDate
        'XMP-xmp:CreateDate',
        'XMP-exif:DateTimeDigitized'], # replaced by XMP-xmp:CreateDate in the spec but still used by digiKam
    Modified => [
        'XMP-xmp:MetadataDate'
    ],
);

# NOTE: All tag names used in the following tables are case sensitive.

# The %Image::ExifTool::UserDefined hash defines new tags to be added
# to existing tables.
%Image::ExifTool::UserDefined = (
    # XMP tags may be added to existing namespaces:
    'Image::ExifTool::XMP::xmpMM' => {
        PreservedCreateDate => { Writable => 'date', Groups => { 2 => 'Time' } },
    },
    # Composite tags are added to the Composite table:
    'Image::ExifTool::Composite' => {
        # Composite tags have values that are derived from the values of
        # other tags.  The Require/Desire elements below specify constituent
        # tags that must/may exist, and the keys of these hashes are used as
        # indices in the @val array of the ValueConv expression to access the
        # numerical (-n) values of these tags.  Print-converted values are
        # accessed via the @prt array.  All Require'd tags must exist for
        # the Composite tag to be evaluated.  If no Require'd tags are
        # specified, then at least one of the Desire'd tags must exist.  See
        # the Composite table in Image::ExifTool::Exif for more examples,
        # and lib/Image/ExifTool/README for all of the details.
        TakenDate => {
            Groups => { 2 => 'Time' },
            Desire => {
                0 => 'EXIF:ModifyDate', # video files are expected not to have EXIF, fallback on the file modification date
                1 => 'File:FileModifyDate'
            },
            ValueConv => '$val[0] // $val[1]',
        },
        # **** ADD ADDITIONAL COMPOSITE TAG DEFINITIONS HERE ****
    },
);

#------------------------------------------------------------------------------
1;  #end